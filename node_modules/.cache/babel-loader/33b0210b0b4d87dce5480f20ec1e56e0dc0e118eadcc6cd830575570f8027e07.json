{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Layout from '@/layout/index.vue';\nimport router from '@/router';\nimport store from '@/store';\nimport axios from 'axios';\nimport Vue from 'vue';\nexport function generaMenu() {\n  axios.get('/api/admin/user/menus').then(({\n    data\n  }) => {\n    if (data.flag) {\n      let userMenus = data.data;\n      userMenus.forEach(item => {\n        if (item.icon != null) {\n          item.icon = 'iconfont ' + item.icon;\n        }\n        if (item.component == 'Layout') {\n          item.component = Layout;\n        }\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(route => {\n            route.icon = 'iconfont ' + route.icon;\n            route.component = loadView(route.component);\n          });\n        }\n      });\n      store.commit('saveUserMenus', userMenus);\n      userMenus.forEach(item => {\n        router.addRoute(item);\n      });\n    } else {\n      Vue.prototype.$message.error(data.message);\n      router.push({\n        path: '/login'\n      });\n    }\n  });\n}\nexport const loadView = view => {\n  return resolve => require([`@/views${view}`], resolve);\n};","map":{"version":3,"names":["Layout","router","store","axios","Vue","generaMenu","get","then","data","flag","userMenus","forEach","item","icon","component","children","length","route","loadView","commit","addRoute","prototype","$message","error","message","push","path","view","resolve","require"],"sources":["E:/Github/blog/aurora-vue/aurora-admin/src/assets/js/menu.js"],"sourcesContent":["import Layout from '@/layout/index.vue'\r\nimport router from '@/router'\r\nimport store from '@/store'\r\nimport axios from 'axios'\r\nimport Vue from 'vue'\r\n\r\nexport function generaMenu() {\r\n  axios.get('/api/admin/user/menus').then(({ data }) => {\r\n    if (data.flag) {\r\n      let userMenus = data.data\r\n      userMenus.forEach((item) => {\r\n        if (item.icon != null) {\r\n          item.icon = 'iconfont ' + item.icon\r\n        }\r\n        if (item.component == 'Layout') {\r\n          item.component = Layout\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          item.children.forEach((route) => {\r\n            route.icon = 'iconfont ' + route.icon\r\n            route.component = loadView(route.component)\r\n          })\r\n        }\r\n      })\r\n      store.commit('saveUserMenus', userMenus)\r\n      userMenus.forEach((item) => {\r\n        router.addRoute(item)\r\n      })\r\n    } else {\r\n      Vue.prototype.$message.error(data.message)\r\n      router.push({ path: '/login' })\r\n    }\r\n  })\r\n}\r\n\r\nexport const loadView = (view) => {\r\n  return (resolve) => require([`@/views${view}`], resolve)\r\n}\r\n"],"mappings":";AAAA,OAAOA,MAAM,MAAM,oBAAoB;AACvC,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,KAAK;AAErB,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3BF,KAAK,CAACG,GAAG,CAAC,uBAAuB,CAAC,CAACC,IAAI,CAAC,CAAC;IAAEC;EAAK,CAAC,KAAK;IACpD,IAAIA,IAAI,CAACC,IAAI,EAAE;MACb,IAAIC,SAAS,GAAGF,IAAI,CAACA,IAAI;MACzBE,SAAS,CAACC,OAAO,CAAEC,IAAI,IAAK;QAC1B,IAAIA,IAAI,CAACC,IAAI,IAAI,IAAI,EAAE;UACrBD,IAAI,CAACC,IAAI,GAAG,WAAW,GAAGD,IAAI,CAACC,IAAI;QACrC;QACA,IAAID,IAAI,CAACE,SAAS,IAAI,QAAQ,EAAE;UAC9BF,IAAI,CAACE,SAAS,GAAGd,MAAM;QACzB;QACA,IAAIY,IAAI,CAACG,QAAQ,IAAIH,IAAI,CAACG,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;UAC7CJ,IAAI,CAACG,QAAQ,CAACJ,OAAO,CAAEM,KAAK,IAAK;YAC/BA,KAAK,CAACJ,IAAI,GAAG,WAAW,GAAGI,KAAK,CAACJ,IAAI;YACrCI,KAAK,CAACH,SAAS,GAAGI,QAAQ,CAACD,KAAK,CAACH,SAAS,CAAC;UAC7C,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;MACFZ,KAAK,CAACiB,MAAM,CAAC,eAAe,EAAET,SAAS,CAAC;MACxCA,SAAS,CAACC,OAAO,CAAEC,IAAI,IAAK;QAC1BX,MAAM,CAACmB,QAAQ,CAACR,IAAI,CAAC;MACvB,CAAC,CAAC;IACJ,CAAC,MAAM;MACLR,GAAG,CAACiB,SAAS,CAACC,QAAQ,CAACC,KAAK,CAACf,IAAI,CAACgB,OAAO,CAAC;MAC1CvB,MAAM,CAACwB,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;IACjC;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,MAAMR,QAAQ,GAAIS,IAAI,IAAK;EAChC,OAAQC,OAAO,IAAKC,OAAO,CAAC,CAAC,UAAUF,IAAI,EAAE,CAAC,EAAEC,OAAO,CAAC;AAC1D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}