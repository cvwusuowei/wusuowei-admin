{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport './assets/css/index.css';\nimport './assets/css/iconfont.css';\nimport config from './assets/js/config';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport ECharts from 'vue-echarts';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/chart/pie';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/map';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport mavonEditor from 'mavon-editor';\nimport 'mavon-editor/dist/css/index.css';\nimport VueCalendarHeatmap from 'vue-calendar-heatmap';\nimport tagCloud from './components/tag-cloud';\nimport dayjs from 'dayjs';\nVue.config.productionTip = false;\nVue.prototype.config = config;\nVue.use(mavonEditor);\nVue.use(ElementUI);\nVue.use(tagCloud);\nVue.use(VueCalendarHeatmap);\nVue.use(VueAxios, axios);\nVue.component('v-chart', ECharts);\nVue.prototype.$moment = dayjs;\nVue.filter('date', function (value, formatStr = 'YYYY-MM-DD') {\n  return dayjs(value).format(formatStr);\n});\nVue.filter('dateTime', function (value, formatStr = 'YYYY-MM-DD HH:mm:ss') {\n  return dayjs(value).format(formatStr);\n});\nNProgress.configure({\n  easing: 'ease',\n  speed: 500,\n  showSpinner: false,\n  trickleSpeed: 200,\n  minimum: 0.3\n});\nrouter.beforeEach((to, from, next) => {\n  NProgress.start();\n\n  if (to.path == '/login') {\n    next();\n  } else if (!store.state.userInfo) {\n    next({\n      path: '/login'\n    });\n  } else {\n    next();\n  }\n});\nrouter.afterEach(() => {\n  NProgress.done();\n});\naxios.interceptors.request.use(config => {\n  config.headers['Authorization'] = 'Bearer ' + sessionStorage.getItem('token');\n  return config;\n});\naxios.interceptors.response.use(response => {\n  switch (response.data.code) {\n    case 40001:\n      Vue.prototype.$message({\n        type: 'error',\n        message: response.data.message\n      });\n      router.push({\n        path: '/login'\n      });\n      break;\n\n    case 50000:\n      Vue.prototype.$message({\n        type: 'error',\n        message: response.data.message\n      });\n      break;\n  }\n\n  return response;\n}, error => {\n  return Promise.reject(error);\n});\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","store","ElementUI","config","axios","VueAxios","ECharts","NProgress","mavonEditor","VueCalendarHeatmap","tagCloud","dayjs","productionTip","prototype","use","component","$moment","filter","value","formatStr","format","configure","easing","speed","showSpinner","trickleSpeed","minimum","beforeEach","to","from","next","start","path","state","userInfo","afterEach","done","interceptors","request","headers","sessionStorage","getItem","response","data","code","$message","type","message","push","error","Promise","reject","render","h","$mount"],"sources":["E:/Github/blog/aurora-vue/aurora-admin/src/main.js"],"sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport './assets/css/index.css'\r\nimport './assets/css/iconfont.css'\r\nimport config from './assets/js/config'\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\nimport ECharts from 'vue-echarts'\r\nimport 'echarts/lib/chart/line'\r\nimport 'echarts/lib/chart/pie'\r\nimport 'echarts/lib/chart/bar'\r\nimport 'echarts/lib/chart/map'\r\nimport 'echarts/lib/component/tooltip'\r\nimport 'echarts/lib/component/legend'\r\nimport 'echarts/lib/component/title'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport mavonEditor from 'mavon-editor'\r\nimport 'mavon-editor/dist/css/index.css'\r\nimport VueCalendarHeatmap from 'vue-calendar-heatmap'\r\nimport tagCloud from './components/tag-cloud'\r\nimport dayjs from 'dayjs'\r\n\r\nVue.config.productionTip = false\r\nVue.prototype.config = config\r\nVue.use(mavonEditor)\r\nVue.use(ElementUI)\r\nVue.use(tagCloud)\r\nVue.use(VueCalendarHeatmap)\r\nVue.use(VueAxios, axios)\r\nVue.component('v-chart', ECharts)\r\nVue.prototype.$moment = dayjs\r\n\r\nVue.filter('date', function (value, formatStr = 'YYYY-MM-DD') {\r\n  return dayjs(value).format(formatStr)\r\n})\r\n\r\nVue.filter('dateTime', function (value, formatStr = 'YYYY-MM-DD HH:mm:ss') {\r\n  return dayjs(value).format(formatStr)\r\n})\r\n\r\nNProgress.configure({\r\n  easing: 'ease',\r\n  speed: 500,\r\n  showSpinner: false,\r\n  trickleSpeed: 200,\r\n  minimum: 0.3\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  NProgress.start()\r\n  if (to.path == '/login') {\r\n    next()\r\n  } else if (!store.state.userInfo) {\r\n    next({ path: '/login' })\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nrouter.afterEach(() => {\r\n  NProgress.done()\r\n})\r\n\r\naxios.interceptors.request.use((config) => {\r\n  config.headers['Authorization'] = 'Bearer ' + sessionStorage.getItem('token')\r\n  return config\r\n})\r\n\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    switch (response.data.code) {\r\n      case 40001:\r\n        Vue.prototype.$message({\r\n          type: 'error',\r\n          message: response.data.message\r\n        })\r\n        router.push({ path: '/login' })\r\n        break\r\n      case 50000:\r\n        Vue.prototype.$message({\r\n          type: 'error',\r\n          message: response.data.message\r\n        })\r\n        break\r\n    }\r\n    return response\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: (h) => h(App)\r\n}).$mount('#app')\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}